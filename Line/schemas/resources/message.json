{
    "parameters": [
        {
            "meta": {
                "options": [
                    {
                        "label": "Send text message",
                        "value": "message.send_message",
                        "description": "Send a plain text message to a user on LINE."
                    },
                    {
                        "label": "Send sticker",
                        "value": "message.send_sticker",
                        "description": "Send a fun sticker from LINE's sticker packs."
                    },
                    {
                        "label": "Send image",
                        "value": "message.send_image",
                        "description": "Send an image to the user via a URL."
                    },
                    {
                        "label": "Send location",
                        "value": "message.send_location",
                        "description": "Share a specific location with the user on LINE."
                    }
                ],
                "validation": {
                    "required": true
                },
                "description": "Select the operation you want to perform.",
                "displayName": "Operation",
                "displayType": "select",
                "placeholder": "Select an operation",
                "dependencies": {
                    "conditions": [
                        {
                            "field": "resource",
                            "value": "message",
                            "operator": "EQUALS"
                        }
                    ]
                }
            },
            "name": "operation"
        }
    ],
    "send_reply": {
        "definition": {
            "url": "https://api.line.me/v2/bot/message/reply",
            "body": {
                "messages": "{{parameters.messages}}",
                "replyToken": "{{parameters.replyToken}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Bearer {{parameters.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data.message}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Reply token is required."
                        }
                    },
                    "description": "Reply token received from a webhook event.",
                    "displayName": "Reply Token",
                    "displayType": "text",
                    "placeholder": "Enter the reply token"
                },
                "name": "replyToken"
            },
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "options": [
                                    {
                                        "label": "text",
                                        "value": "text"
                                    },
                                    {
                                        "label": "sticker",
                                        "value": "sticker"
                                    },
                                    {
                                        "label": "image",
                                        "value": "image"
                                    }
                                ],
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Message type is required."
                                    }
                                },
                                "description": "Type of the message (e.g., text, sticker, image)",
                                "displayName": "Message Type",
                                "displayType": "select",
                                "placeholder": "e.g., text"
                            },
                            "name": "type"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Message text is required."
                                    }
                                },
                                "description": "The content of the message to send.",
                                "displayName": "Message Text",
                                "displayType": "text",
                                "placeholder": "Enter the message content"
                            },
                            "name": "text",
                            "condition": "type == 'text'"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Sticker packageId is required."
                                    }
                                },
                                "description": "LINE Sticker Package ID.",
                                "displayName": "Sticker Package ID",
                                "displayType": "text",
                                "placeholder": "e.g., 446"
                            },
                            "name": "packageId",
                            "condition": "type == 'sticker'"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "StickerId is required."
                                    }
                                },
                                "description": "LINE Sticker ID within the package.",
                                "displayName": "Sticker ID",
                                "displayType": "text",
                                "placeholder": "e.g., 1988"
                            },
                            "name": "stickerId",
                            "condition": "type == 'sticker'"
                        }
                    ],
                    "validation": {
                        "required": true,
                        "infoDetail": {
                            "infoMsg": "You can send multiple messages in a single reply."
                        },
                        "requiredDetail": {
                            "errorMsg": "At least one message is required."
                        }
                    },
                    "description": "List of messages to be sent, including message type and text.",
                    "displayName": "Messages",
                    "displayType": "array",
                    "placeholder": "Enter messages to send via LINE"
                },
                "name": "messages"
            }
        ]
    },
    "id": "114e616a-f555-4f31-8b76-d3840d5538d0",
    "integration_id": "04bedfb3-0adb-4f28-b6ae-546cfd5f458f",
    "resource_id": "0f4d58c0-f667-4881-bcbe-57b3f5eb09ee",
    "name": "send_location",
    "content": {
        "definition": {
            "url": "https://api.line.me/v2/bot/message/push",
            "body": {
                "to": "{{parameters.to}}",
                "messages": "{{parameters.messages}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Bearer {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "User ID is a required field."
                        }
                    },
                    "description": "LINE user ID to whom the message will be sent",
                    "displayName": "Recipient User ID",
                    "displayType": "text",
                    "placeholder": "Enter LINE user ID"
                },
                "name": "to"
            },
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "value": "location",
                                "options": [
                                    {
                                        "label": "Location",
                                        "value": "location"
                                    }
                                ],
                                "htmlProps": {
                                    "allowDynamic": true
                                },
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Message Type is a required field."
                                    }
                                },
                                "description": "Type of the message",
                                "displayName": "Message Type",
                                "displayType": "select",
                                "defaultValue": "location"
                            },
                            "name": "type"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Location title is a required field"
                                    }
                                },
                                "description": "Title for the location message Eg. My Location.",
                                "displayName": "Location Title",
                                "displayType": "text",
                                "placeholder": "Enter Location Title"
                            },
                            "name": "title"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Address is a required field."
                                    }
                                },
                                "description": "Displayed address for the location.",
                                "displayName": "Address",
                                "displayType": "textarea",
                                "placeholder": "Full address of location"
                            },
                            "name": "address"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Latitude is a required field."
                                    }
                                },
                                "description": "Latitude of the location (e.g., 35.6895).",
                                "displayName": "Latitude",
                                "displayType": "number",
                                "placeholder": "Enter latitude"
                            },
                            "name": "latitude"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Longitude is a required field."
                                    }
                                },
                                "description": "Longitude of the location (e.g., 139.6917).",
                                "displayName": "Longitude",
                                "displayType": "number",
                                "placeholder": "Enter longitude"
                            },
                            "name": "longitude"
                        }
                    ],
                    "validation": {
                        "required": true,
                        "infoDetail": {
                            "infoMsg": "You can send multiple location messages in a single request."
                        },
                        "requiredDetail": {
                            "errorMsg": "At least one message is required."
                        }
                    },
                    "description": "List of location messages to be sent.",
                    "displayName": "Messages",
                    "displayType": "array",
                    "placeholder": "Enter location messages"
                },
                "name": "messages"
            }
        ]
    },
    "created_by": "rahilsiddiqui@gofynd.com",
    "modified_by": "ahmedsakri@gofynd.com",
    "created_at": "2025-06-24T11:40:30.164Z",
    "updated_at": "2025-07-03T06:06:18.455Z"
}
