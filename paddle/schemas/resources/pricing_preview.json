{
    "parameters": [
        {
            "meta": {
                "children": [
                    {
                        "meta": {
                            "validation": {
                                "required": true
                            },
                            "description": "Paddle ID for the price to add to this transaction, prefixed with pri_.",
                            "displayName": "Price ID",
                            "displayType": "text",
                            "placeholder": "pri_01gsz8z1q1n00f12qt82y31smh"
                        },
                        "name": "price_id"
                    },
                    {
                        "meta": {
                            "validation": {
                                "min": 1,
                                "required": true
                            },
                            "displayName": "Quantity",
                            "displayType": "number",
                            "placeholder": "20"
                        },
                        "name": "quantity"
                    }
                ],
                "htmlProps": {
                    "allowAdd": true
                },
                "validation": {
                    "required": true
                },
                "description": "List of items to preview price calculations for.",
                "displayName": "Items",
                "displayType": "array"
            },
            "name": "items"
        },
        {
            "meta": {
                "validation": {
                    "required": false
                },
                "description": "Paddle ID of the customer (ctm_*).",
                "displayName": "Customer ID",
                "displayType": "text",
                "placeholder": "ctm_01gsz8z1q1n00f12qt82y31abc"
            },
            "name": "customer_id"
        },
        {
            "meta": {
                "validation": {
                    "required": false
                },
                "description": "Paddle ID of the address (add_*).",
                "displayName": "Address ID",
                "displayType": "text",
                "placeholder": "add_01gsz8z1q1n00f12qt82y31def"
            },
            "name": "address_id"
        },
        {
            "meta": {
                "validation": {
                    "required": false
                },
                "description": "Paddle ID of the business (biz_*).",
                "displayName": "Business ID",
                "displayType": "text",
                "placeholder": "biz_01gsz8z1q1n00f12qt82y31ghi"
            },
            "name": "business_id"
        },
        {
            "meta": {
                "options": [
                    {
                        "label": "USD - US Dollar",
                        "value": "USD"
                    },
                    {
                        "label": "EUR - Euro",
                        "value": "EUR"
                    },
                    {
                        "label": "GBP - British Pound",
                        "value": "GBP"
                    },
                    {
                        "label": "CAD - Canadian Dollar",
                        "value": "CAD"
                    },
                    {
                        "label": "AUD - Australian Dollar",
                        "value": "AUD"
                    },
                    {
                        "label": "JPY - Japanese Yen",
                        "value": "JPY"
                    },
                    {
                        "label": "SEK - Swedish Krona",
                        "value": "SEK"
                    },
                    {
                        "label": "NOK - Norwegian Krone",
                        "value": "NOK"
                    },
                    {
                        "label": "DKK - Danish Krone",
                        "value": "DKK"
                    },
                    {
                        "label": "CHF - Swiss Franc",
                        "value": "CHF"
                    },
                    {
                        "label": "PLN - Polish Zloty",
                        "value": "PLN"
                    },
                    {
                        "label": "CZK - Czech Koruna",
                        "value": "CZK"
                    },
                    {
                        "label": "HUF - Hungarian Forint",
                        "value": "HUF"
                    },
                    {
                        "label": "SGD - Singapore Dollar",
                        "value": "SGD"
                    },
                    {
                        "label": "BRL - Brazilian Real",
                        "value": "BRL"
                    },
                    {
                        "label": "MXN - Mexican Peso",
                        "value": "MXN"
                    },
                    {
                        "label": "ZAR - South African Rand",
                        "value": "ZAR"
                    },
                    {
                        "label": "INR - Indian Rupee",
                        "value": "INR"
                    },
                    {
                        "label": "KRW - South Korean Won",
                        "value": "KRW"
                    },
                    {
                        "label": "TWD - Taiwan Dollar",
                        "value": "TWD"
                    },
                    {
                        "label": "THB - Thai Baht",
                        "value": "THB"
                    },
                    {
                        "label": "CNY - Chinese Yuan",
                        "value": "CNY"
                    },
                    {
                        "label": "ILS - Israeli New Shekel",
                        "value": "ILS"
                    },
                    {
                        "label": "NZD - New Zealand Dollar",
                        "value": "NZD"
                    },
                    {
                        "label": "RUB - Russian Ruble",
                        "value": "RUB"
                    },
                    {
                        "label": "TRY - Turkish Lira",
                        "value": "TRY"
                    },
                    {
                        "label": "UAH - Ukrainian Hryvnia",
                        "value": "UAH"
                    },
                    {
                        "label": "ARS - Argentine Peso",
                        "value": "ARS"
                    },
                    {
                        "label": "COP - Colombian Peso",
                        "value": "COP"
                    },
                    {
                        "label": "PEN - Peruvian Sol",
                        "value": "PEN"
                    },
                    {
                        "label": "CLP - Chilean Peso",
                        "value": "CLP"
                    },
                    {
                        "label": "UYU - Uruguayan Peso",
                        "value": "UYU"
                    },
                    {
                        "label": "EGP - Egyptian Pound",
                        "value": "EGP"
                    }
                ],
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": false
                },
                "description": "Supported three-letter ISO 4217 currency code.",
                "displayName": "Currency Code",
                "displayType": "select",
                "placeholder": "Select currency"
            },
            "name": "currency_code"
        },
        {
            "meta": {
                "validation": {
                    "required": false
                },
                "description": "Paddle ID of the discount (dsc_*).",
                "displayName": "Discount ID",
                "displayType": "text",
                "placeholder": "dsc_01gtgztp8fpchantd5g1wrksa3"
            },
            "name": "discount_id"
        },
        {
            "meta": {
                "children": [
                    {
                        "meta": {
                            "validation": {
                                "required": false
                            },
                            "description": "Supported two-letter ISO 3166-1 alpha-2 country code for this address.",
                            "displayName": "Country Code",
                            "displayType": "text",
                            "placeholder": "US"
                        },
                        "name": "country_code"
                    },
                    {
                        "meta": {
                            "validation": {
                                "required": false
                            },
                            "description": "ZIP or postal code of this address. Include for more accurate tax calculations.",
                            "displayName": "Postal Code",
                            "displayType": "text",
                            "placeholder": "10001"
                        },
                        "name": "postal_code"
                    }
                ],
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": false
                },
                "description": "Address for this preview. Send one of address_id, customer_ip_address, or the address object when previewing.",
                "displayName": "Address",
                "displayType": "object"
            },
            "name": "address"
        },
        {
            "meta": {
                "validation": {
                    "required": false
                },
                "description": "IP address for this transaction preview. Send one of address_id, customer_ip_address, or the address object when previewing.",
                "displayName": "Customer IP Address",
                "displayType": "text",
                "placeholder": "34.232.58.13"
            },
            "name": "customer_ip_address"
        }
    ],
    "definition": {
        "url": "https://{{secrets.environment_url}}/pricing-preview",
        "body": {
            "items": "{{parameters.items}}",
            "address": "{{parameters.address}}",
            "address_id": "{{parameters.address_id}}",
            "business_id": "{{parameters.business_id}}",
            "customer_id": "{{parameters.customer_id}}",
            "discount_id": "{{parameters.discount_id}}",
            "currency_code": "{{parameters.currency_code}}",
            "customer_ip_address": "{{parameters.customer_ip_address}}"
        },
        "method": "post",
        "headers": {
            "Accept": "application/json",
            "Content-Type": "application/json",
            "Authorization": "Bearer {{secrets.api_key}}"
        },
        "response": {
            "error": {
                "code": "{{response.status}}",
                "message": "{{response.data}}"
            },
            "output": "{{response.data.data}}"
        }
    }
}
