{
    "parameters": [
        {
            "meta": {
                "validation": {
                    "required": true,
                    "requiredDetail": {
                        "errorMsg": "Query is required field"
                    }
                },
                "description": "The query to search",
                "displayName": "Query",
                "displayType": "text",
                "placeholder": "Enter the Query"
            },
            "name": "query"
        },
        {
            "meta": {
                "validation": {
                    "max": 100,
                    "min": 1,
                    "required": false
                },
                "description": "Maximum number of search results to return (1â€“100)",
                "displayName": "Result Limit",
                "displayType": "number",
                "placeholder": "Enter the Limit"
            },
            "name": "limit"
        },
        {
            "meta": {
                "value": "",
                "options": [
                    {
                        "label": "Any Time",
                        "value": ""
                    },
                    {
                        "label": "Past Hour",
                        "value": "qdr:h"
                    },
                    {
                        "label": "Past 24 Hours",
                        "value": "qdr:d"
                    },
                    {
                        "label": "Past Week",
                        "value": "qdr:w"
                    },
                    {
                        "label": "Past Month",
                        "value": "qdr:m"
                    },
                    {
                        "label": "Past Year",
                        "value": "qdr:y"
                    }
                ],
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": false
                },
                "description": "Restrict search by time (e.g., past day, week, month, year)",
                "displayName": "Time Filter",
                "displayType": "select",
                "placeholder": "Enter a Time Filter"
            },
            "name": "tbs"
        },
        {
            "meta": {
                "validation": {
                    "required": false
                },
                "description": "Geographical location to tailor search results",
                "displayName": "Location",
                "displayType": "text",
                "placeholder": "Enter a Location"
            },
            "name": "location"
        },
        {
            "meta": {
                "validation": {
                    "min": 1000,
                    "required": false
                },
                "description": "Maximum time (in milliseconds) to wait for the search operation to complete",
                "displayName": "Timeout (ms)",
                "displayType": "number",
                "placeholder": "Enter a Timeout"
            },
            "name": "timeout"
        },
        {
            "meta": {
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": false
                },
                "description": "Exclude invalid URLs from results",
                "displayName": "Ignore Invalid URLs",
                "displayType": "toggle",
                "placeholder": "Enter Ignore Invalid URLs"
            },
            "name": "ignoreInvalidURLs"
        },
        {
            "meta": {
                "value": [
                    "markdown"
                ],
                "options": [
                    {
                        "label": "Markdown",
                        "value": "markdown"
                    },
                    {
                        "label": "HTML",
                        "value": "html"
                    },
                    {
                        "label": "Raw HTML",
                        "value": "rawHtml"
                    },
                    {
                        "label": "Screenshot",
                        "value": "screenshot"
                    },
                    {
                        "label": "Links",
                        "value": "links"
                    }
                ],
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": true,
                    "requiredDetail": {
                        "errorMsg": "Output Formats is required field"
                    }
                },
                "description": "Choose one or more output formats for scraped content.",
                "displayName": "Output Formats",
                "displayType": "multiselect",
                "placeholder": "Select output formats"
            },
            "name": "formats"
        },
        {
            "meta": {
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": false
                },
                "description": "Return only the main content of each page.",
                "displayName": "Only Main Content",
                "displayType": "toggle",
                "placeholder": "Enter Only Main Content"
            },
            "name": "onlyMainContent"
        }
    ],
    "definition": {
        "url": "https://api.firecrawl.dev/v1/search",
        "body": {
            "tbs": "{{parameters.tbs}}",
            "limit": "{{parameters.limit}}",
            "query": "{{parameters.query}}",
            "timeout": "{{parameters.timeout}}",
            "location": "{{parameters.location}}",
            "scrapeOptions": {
                "formats": "{{parameters.formats}}",
                "onlyMainContent": "{{parameters.onlyMainContent}}"
            },
            "ignoreInvalidURLs": "{{parameters.ignoreInvalidURLs}}"
        },
        "method": "post",
        "headers": {
            "Content-Type": "application/json",
            "Authorization": "Bearer {{secrets.api_key}}"
        },
        "response": {
            "error": {
                "code": "{{response.status}}",
                "message": "{{response.data.error}}"
            },
            "output": "{{response.data}}"
        }
    }
}
