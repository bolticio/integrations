{
    "parameters": [
        {
            "meta": {
                "options": [
                    {
                        "label": "Product",
                        "value": "products"
                    },
                    {
                        "label": "Collection",
                        "value": "collections"
                    },
                    {
                        "label": "Order",
                        "value": "orders"
                    },
                    {
                        "label": "Customer",
                        "value": "customers"
                    },
                    {
                        "label": "Blog",
                        "value": "blogs"
                    },
                    {
                        "label": "Draft Order",
                        "value": "draft_orders"
                    }
                ],
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": true
                },
                "description": "Select the Shopify resource where the metafield applies.",
                "displayName": "Resource",
                "displayType": "select",
                "placeholder": "Select a resource"
            },
            "name": "res"
        },
        {
            "meta": {
                "validation": {
                    "required": true
                },
                "description": "The ID of the Resource.",
                "displayName": "Resource",
                "displayType": "text",
                "placeholder": "Enter Resource ID"
            },
            "name": "product_id"
        }
    ],
    "definition": {
        "url": "https://{{secrets.domain}}.myshopify.com/admin/api/2024-07/{{parameters.res}}/{{parameters.product_id}}/metafields.json",
        "method": "get",
        "headers": {
            "X-Shopify-Access-Token": "{{secrets.access_token}}"
        },
        "response": {
            "error": {
                "code": "{{response.status}}",
                "message": "{{response.data.errors}}"
            },
            "output": "{{response.data}}"
        }
    }
}
