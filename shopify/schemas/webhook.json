{
    "id": "ad76357f-29ab-4585-9e18-27a8770daf6a",
    "integration_id": "21d6d45e-fd60-4722-9634-d0b46acf677e",
    "content": {
        "cart": {
            "parameters": [
                {
                    "meta": {
                        "options": [
                            {
                                "label": "Cart Updated",
                                "value": "carts/update",
                                "description": "Triggers when a cart is updated with new items, quantities, or other changes."
                            }
                        ],
                        "validation": {
                            "required": true
                        },
                        "description": "The list of triggers based on cart",
                        "displayName": "Cart Events",
                        "displayType": "select",
                        "dependencies": {
                            "conditions": [
                                {
                                    "field": "secret",
                                    "operator": "NOT_EMPTY"
                                },
                                {
                                    "field": "resource",
                                    "value": "webhook",
                                    "operator": "EQUALS"
                                },
                                {
                                    "field": "operation",
                                    "value": "webhook.cart",
                                    "operator": "EQUALS"
                                }
                            ]
                        }
                    },
                    "name": "events"
                }
            ]
        },
        "test": {
            "cart": {
                "definition": {
                    "url": "",
                    "method": "",
                    "headers": {},
                    "response": {
                        "error": {},
                        "output": {
                            "id": "Z2NwLWFzaWEtc291dGhlYXN0MTowMUpNVjlGREVEMFExTjRYWVk2VlZEVzdZNQ",
                            "note": "",
                            "token": "Z2NwLWFzaWEtc291dGhlYXN0MTowMUpNVjlGREVEMFExTjRYWVk2VlZEVzdZNQ",
                            "created_at": "2025-02-24T06:14:27.278Z",
                            "line_items": [
                                {
                                    "id": 41828861575257,
                                    "key": "41828861575257:a34e2cc28714024b7435d52188b5cd10",
                                    "sku": "8",
                                    "grams": 5000,
                                    "price": "123.00",
                                    "title": "Floral shirt",
                                    "vendor": "dp-test-01",
                                    "taxable": true,
                                    "quantity": 3,
                                    "discounts": [],
                                    "gift_card": false,
                                    "price_set": {
                                        "shop_money": {
                                            "amount": "123.0",
                                            "currency_code": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "123.0",
                                            "currency_code": "INR"
                                        }
                                    },
                                    "line_price": "369.00",
                                    "product_id": 7777125892185,
                                    "properties": null,
                                    "variant_id": 41828861575257,
                                    "line_price_set": {
                                        "shop_money": {
                                            "amount": "369.0",
                                            "currency_code": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "369.0",
                                            "currency_code": "INR"
                                        }
                                    },
                                    "original_price": "123.00",
                                    "total_discount": "0.00",
                                    "discounted_price": "123.00",
                                    "total_discount_set": {
                                        "shop_money": {
                                            "amount": "0.0",
                                            "currency_code": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "0.0",
                                            "currency_code": "INR"
                                        }
                                    },
                                    "original_line_price": "369.00",
                                    "discounted_price_set": {
                                        "shop_money": {
                                            "amount": "123.0",
                                            "currency_code": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "123.0",
                                            "currency_code": "INR"
                                        }
                                    },
                                    "original_line_price_set": {
                                        "shop_money": {
                                            "amount": "369.0",
                                            "currency_code": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "369.0",
                                            "currency_code": "INR"
                                        }
                                    }
                                }
                            ],
                            "updated_at": "2025-02-24T06:14:38.026Z"
                        }
                    }
                }
            },
            "order": {
                "definition": {
                    "url": "https://{{secrets.domain}}.myshopify.com/admin/api/2024-07/orders.json?limit=1",
                    "method": "get",
                    "headers": {
                        "X-Shopify-Access-Token": "{{secrets.access_token}}"
                    },
                    "response": {
                        "error": {
                            "code": "{{response.status}}",
                            "message": "{{response.data.errors}}"
                        },
                        "output": "{{response.data.orders[0]}}"
                    }
                }
            },
            "refund": {
                "definition": {
                    "url": "",
                    "method": "",
                    "headers": {},
                    "response": {
                        "error": {},
                        "output": {
                            "id": 929225048153,
                            "note": "refund",
                            "duties": [],
                            "return": null,
                            "restock": false,
                            "user_id": 81270702169,
                            "order_id": 6038895788121,
                            "created_at": "2025-02-24T07:22:59-05:00",
                            "processed_at": "2025-02-24T07:22:59-05:00",
                            "transactions": [
                                {
                                    "id": 7735756161113,
                                    "kind": "refund",
                                    "test": false,
                                    "amount": "19.99",
                                    "status": "success",
                                    "gateway": "manual",
                                    "message": "Refunded 19.99 INR from manual gateway",
                                    "receipt": {},
                                    "user_id": 81270702169,
                                    "currency": "INR",
                                    "order_id": 6038895788121,
                                    "device_id": null,
                                    "parent_id": 7735448764505,
                                    "created_at": "2025-02-24T07:22:58-05:00",
                                    "error_code": null,
                                    "payment_id": "#1041.3",
                                    "location_id": null,
                                    "source_name": "1830279",
                                    "processed_at": "2025-02-24T07:22:58-05:00",
                                    "authorization": null,
                                    "amount_rounding": null,
                                    "total_unsettled_set": {
                                        "shop_money": {
                                            "amount": "0.0",
                                            "currency": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "0.0",
                                            "currency": "INR"
                                        }
                                    },
                                    "admin_graphql_api_id": "gid://shopify/OrderTransaction/7735756161113",
                                    "manual_payment_gateway": true
                                }
                            ],
                            "total_duties_set": {
                                "shop_money": {
                                    "amount": "0.00",
                                    "currency_code": "INR"
                                },
                                "presentment_money": {
                                    "amount": "0.00",
                                    "currency_code": "INR"
                                }
                            },
                            "order_adjustments": [],
                            "refund_line_items": [
                                {
                                    "id": 474843840601,
                                    "quantity": 1,
                                    "subtotal": 19.99,
                                    "line_item": {
                                        "id": 14614437625945,
                                        "sku": null,
                                        "name": "Sample Product",
                                        "grams": 0,
                                        "price": "19.99",
                                        "title": "Sample Product",
                                        "duties": [],
                                        "vendor": null,
                                        "taxable": true,
                                        "quantity": 1,
                                        "gift_card": false,
                                        "price_set": {
                                            "shop_money": {
                                                "amount": "19.99",
                                                "currency_code": "INR"
                                            },
                                            "presentment_money": {
                                                "amount": "19.99",
                                                "currency_code": "INR"
                                            }
                                        },
                                        "tax_lines": [],
                                        "product_id": null,
                                        "properties": [],
                                        "variant_id": null,
                                        "variant_title": null,
                                        "product_exists": false,
                                        "total_discount": "0.00",
                                        "requires_shipping": true,
                                        "fulfillment_status": "fulfilled",
                                        "total_discount_set": {
                                            "shop_money": {
                                                "amount": "0.00",
                                                "currency_code": "INR"
                                            },
                                            "presentment_money": {
                                                "amount": "0.00",
                                                "currency_code": "INR"
                                            }
                                        },
                                        "fulfillment_service": "manual",
                                        "admin_graphql_api_id": "gid://shopify/LineItem/14614437625945",
                                        "discount_allocations": [],
                                        "fulfillable_quantity": 0,
                                        "variant_inventory_management": null
                                    },
                                    "total_tax": 0,
                                    "location_id": null,
                                    "line_item_id": 14614437625945,
                                    "restock_type": "no_restock",
                                    "subtotal_set": {
                                        "shop_money": {
                                            "amount": "19.99",
                                            "currency_code": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "19.99",
                                            "currency_code": "INR"
                                        }
                                    },
                                    "total_tax_set": {
                                        "shop_money": {
                                            "amount": "0.00",
                                            "currency_code": "INR"
                                        },
                                        "presentment_money": {
                                            "amount": "0.00",
                                            "currency_code": "INR"
                                        }
                                    }
                                }
                            ],
                            "admin_graphql_api_id": "gid://shopify/Refund/929225048153",
                            "refund_shipping_lines": []
                        }
                    }
                }
            },
            "product": {
                "definition": {
                    "qs": {
                        "limit": 1
                    },
                    "url": "https://{{secrets.domain}}.myshopify.com/admin/api/2024-07/products.json",
                    "method": "get",
                    "headers": {
                        "X-Shopify-Access-Token": "{{secrets.access_token}}"
                    },
                    "response": {
                        "error": {
                            "code": "{{response.status}}",
                            "message": "{{response.data.errors}}"
                        },
                        "output": "{{response.data.products[0]}}"
                    }
                }
            },
            "customer": {
                "definition": {
                    "qs": {
                        "limit": 1
                    },
                    "url": "https://{{secrets.domain}}.myshopify.com/admin/api/2024-07/customers.json",
                    "method": "get",
                    "headers": {
                        "X-Shopify-Access-Token": "{{secrets.access_token}}"
                    },
                    "response": {
                        "error": {
                            "code": "{{response.status}}",
                            "message": "{{response.data.errors}}"
                        },
                        "output": "{{response.data.customers[0]}}"
                    }
                }
            },
            "inventory": {
                "definition": {
                    "url": "",
                    "method": "",
                    "headers": {},
                    "response": {
                        "error": {},
                        "output": {
                            "available": 90,
                            "updated_at": "2025-02-24T02:39:35-05:00",
                            "location_id": 94045470904,
                            "inventory_item_id": 50571250729144,
                            "admin_graphql_api_id": "gid://shopify/InventoryLevel/130472771768?inventory_item_id=50571250729144"
                        }
                    }
                }
            },
            "collection": {
                "definition": {
                    "url": "",
                    "method": "",
                    "headers": {},
                    "response": {
                        "error": {},
                        "output": {
                            "id": 987654321,
                            "image": {
                                "alt": "Summer Collection",
                                "src": "https://cdn.shopify.com/s/files/collection-image.jpg"
                            },
                            "title": "Dummy Summer Collection",
                            "handle": "Dummy summer-collection",
                            "body_html": "<p>The best summer styles.</p>",
                            "updated_at": "2025-02-24T12:00:00Z",
                            "published_at": "2025-02-24T10:00:00Z"
                        }
                    }
                }
            }
        },
        "order": {
            "parameters": [
                {
                    "meta": {
                        "options": [
                            {
                                "label": "New Order",
                                "value": "orders/create",
                                "description": "Triggers when a new order is created in the system."
                            },
                            {
                                "label": "New Fulfilled Order",
                                "value": "orders/fulfilled",
                                "description": "Triggers when an order is marked as fulfilled."
                            },
                            {
                                "label": "Updated Order",
                                "value": "orders/updated",
                                "description": "Triggers when an existing order is updated."
                            },
                            {
                                "label": "Order Deleted",
                                "value": "orders/delete",
                                "description": "Triggers when an order is deleted from the system."
                            },
                            {
                                "label": "New Draft Order",
                                "value": "draft_orders/create",
                                "description": "Triggers when a new draft order is created."
                            },
                            {
                                "label": "New Paid Order",
                                "value": "orders/paid",
                                "description": "Triggers when an order is marked as paid."
                            },
                            {
                                "label": "New Cancelled Order",
                                "value": "orders/cancelled",
                                "description": "Triggers when an order is cancelled."
                            }
                        ],
                        "validation": {
                            "required": true
                        },
                        "description": "The list of triggers based on orders",
                        "displayName": "Order Events",
                        "displayType": "select",
                        "dependencies": {
                            "conditions": [
                                {
                                    "field": "secret",
                                    "operator": "NOT_EMPTY"
                                },
                                {
                                    "field": "resource",
                                    "value": "webhook",
                                    "operator": "EQUALS"
                                },
                                {
                                    "field": "operation",
                                    "value": "webhook.order",
                                    "operator": "EQUALS"
                                }
                            ]
                        }
                    },
                    "name": "events"
                }
            ]
        },
        "attach": {
            "definition": {
                "url": "https://{{secrets.domain}}.myshopify.com/admin/api/2024-04/webhooks.json",
                "body": {
                    "webhook": {
                        "topic": "{{parameters.events}}",
                        "format": "json",
                        "address": "{{webhook.url}}"
                    }
                },
                "method": "post",
                "headers": {
                    "Content-Type": "application/json",
                    "X-Shopify-Access-Token": "{{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.errors}}"
                    },
                    "output": "{{response.data.webhook}}"
                }
            }
        },
        "detach": {
            "definition": {
                "url": "https://{{secrets.domain}}.myshopify.com/admin/api/2024-10/webhooks/{{webhook.id}}.json",
                "method": "delete",
                "headers": {
                    "X-Shopify-Access-Token": "{{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.errors}}"
                    },
                    "output": "{{response.data}}"
                }
            }
        },
        "refund": {
            "parameters": [
                {
                    "meta": {
                        "options": [
                            {
                                "label": "New Refund",
                                "value": "refunds/create",
                                "description": "Triggers when a new refund is issued for an order."
                            }
                        ],
                        "validation": {
                            "required": true
                        },
                        "description": "The list of triggers based on refunds",
                        "displayName": "Refund Events",
                        "displayType": "select",
                        "dependencies": {
                            "conditions": [
                                {
                                    "field": "secret",
                                    "operator": "NOT_EMPTY"
                                },
                                {
                                    "field": "resource",
                                    "value": "webhook",
                                    "operator": "EQUALS"
                                },
                                {
                                    "field": "operation",
                                    "value": "webhook.refund",
                                    "operator": "EQUALS"
                                }
                            ]
                        }
                    },
                    "name": "events"
                }
            ]
        },
        "product": {
            "parameters": [
                {
                    "meta": {
                        "options": [
                            {
                                "label": "New Product",
                                "value": "products/create",
                                "description": "Triggers when a new product is added to the store."
                            },
                            {
                                "label": "Updated Product",
                                "value": "products/update",
                                "description": "Triggers when an existing product is updated."
                            },
                            {
                                "label": "Product Deleted",
                                "value": "products/delete",
                                "description": "Triggers when a product is removed from the store."
                            }
                        ],
                        "validation": {
                            "required": true
                        },
                        "description": "The list of triggers based on products",
                        "displayName": "Product Events",
                        "displayType": "select",
                        "dependencies": {
                            "conditions": [
                                {
                                    "field": "secret",
                                    "operator": "NOT_EMPTY"
                                },
                                {
                                    "field": "resource",
                                    "value": "webhook",
                                    "operator": "EQUALS"
                                },
                                {
                                    "field": "operation",
                                    "value": "webhook.product",
                                    "operator": "EQUALS"
                                }
                            ]
                        }
                    },
                    "name": "events"
                }
            ]
        },
        "customer": {
            "parameters": [
                {
                    "meta": {
                        "options": [
                            {
                                "label": "New Customer",
                                "value": "customers/create",
                                "description": "Triggers when a new customer is created in the system."
                            },
                            {
                                "label": "Customer Deleted",
                                "value": "customers/delete",
                                "description": "Triggers when a customer is deleted from the system."
                            },
                            {
                                "label": "Updated Customer",
                                "value": "customers/update",
                                "description": "Triggers when an existing customer's details are updated."
                            }
                        ],
                        "validation": {
                            "required": true
                        },
                        "description": "The list of triggers based on customers",
                        "displayName": "Customers Events",
                        "displayType": "select",
                        "dependencies": {
                            "conditions": [
                                {
                                    "field": "secret",
                                    "operator": "NOT_EMPTY"
                                },
                                {
                                    "field": "resource",
                                    "value": "webhook",
                                    "operator": "EQUALS"
                                },
                                {
                                    "field": "operation",
                                    "value": "webhook.customer",
                                    "operator": "EQUALS"
                                }
                            ]
                        }
                    },
                    "name": "events"
                }
            ]
        },
        "inventory": {
            "parameters": [
                {
                    "meta": {
                        "options": [
                            {
                                "label": "Updated Inventory",
                                "value": "inventory_levels/update",
                                "description": "Triggers when inventory levels are updated for a product or variant."
                            }
                        ],
                        "validation": {
                            "required": true
                        },
                        "description": "The list of triggers based on inventory",
                        "displayName": "Inventory Events",
                        "displayType": "select",
                        "dependencies": {
                            "conditions": [
                                {
                                    "field": "secret",
                                    "operator": "NOT_EMPTY"
                                },
                                {
                                    "field": "resource",
                                    "value": "webhook",
                                    "operator": "EQUALS"
                                },
                                {
                                    "field": "operation",
                                    "value": "webhook.inventory",
                                    "operator": "EQUALS"
                                }
                            ]
                        }
                    },
                    "name": "events"
                }
            ]
        },
        "collection": {
            "parameters": [
                {
                    "meta": {
                        "options": [
                            {
                                "label": "Collection Created",
                                "value": "collections/create",
                                "description": "Triggers when a new collection is created in the store."
                            },
                            {
                                "label": "Collection Updated",
                                "value": "collections/update",
                                "description": "Triggers when an existing collection is modified."
                            },
                            {
                                "label": "Collection Deleted",
                                "value": "collections/delete",
                                "description": "Triggers when a collection is removed from the store."
                            }
                        ],
                        "validation": {
                            "required": true
                        },
                        "description": "The list of triggers based on collection",
                        "displayName": "Collection Events",
                        "displayType": "select",
                        "dependencies": {
                            "conditions": [
                                {
                                    "field": "secret",
                                    "operator": "NOT_EMPTY"
                                },
                                {
                                    "field": "resource",
                                    "value": "webhook",
                                    "operator": "EQUALS"
                                },
                                {
                                    "field": "operation",
                                    "value": "webhook.collection",
                                    "operator": "EQUALS"
                                }
                            ]
                        }
                    },
                    "name": "events"
                }
            ]
        },
        "parameters": [
            {
                "meta": {
                    "config": {
                        "url": "/SHOPIFY?current_page=1&page_size=999",
                        "method": "get",
                        "urlType": "secret",
                        "labelKey": "name",
                        "valueKey": "_id"
                    },
                    "options": [],
                    "htmlProps": {
                        "showAddNew": true
                    },
                    "validation": {
                        "required": true
                    },
                    "description": "Shopify node is used to interact with your Shopify store, enabling you to automate workflows and actions",
                    "displayName": "Shopify Store",
                    "displayType": "autocomplete",
                    "placeholder": "Select Shopify Store"
                },
                "name": "secret"
            },
            {
                "meta": {
                    "options": [
                        {
                            "label": "Webhook",
                            "value": "webhook"
                        }
                    ],
                    "validation": {
                        "required": true
                    },
                    "description": "Select the resource you want to work with",
                    "displayName": "Resource",
                    "displayType": "select",
                    "dependencies": {
                        "conditions": [
                            {
                                "field": "secret",
                                "operator": "NOT_EMPTY"
                            }
                        ]
                    }
                },
                "name": "resource"
            },
            {
                "meta": {
                    "options": [
                        {
                            "label": "Customer",
                            "value": "webhook.customer",
                            "description": "Triggers when a customer-related event occurs, such as creation, update, or deletion."
                        },
                        {
                            "label": "Order",
                            "value": "webhook.order",
                            "description": "Triggers when an order event occurs, such as new order creation, fulfillment, update, or deletion."
                        },
                        {
                            "label": "Product",
                            "value": "webhook.product",
                            "description": "Triggers when a product event occurs, such as a new product being added, updated, or deleted."
                        },
                        {
                            "label": "Collection",
                            "value": "webhook.collection",
                            "description": "Triggers when a collection event occurs, such as creation, update, or deletion of a product collection."
                        },
                        {
                            "label": "Refund",
                            "value": "webhook.refund",
                            "description": "Triggers when a refund event occurs, such as when a refund is issued for an order."
                        },
                        {
                            "label": "Cart",
                            "value": "webhook.cart",
                            "description": "Triggers when a cart-related event occurs, such as an update to a customer's cart."
                        },
                        {
                            "label": "Inventory",
                            "value": "webhook.inventory",
                            "description": "Triggers when an inventory-related event occurs, such as an update to inventory levels."
                        }
                    ],
                    "validation": {
                        "required": true
                    },
                    "description": "Select the operation you want to perform.",
                    "displayName": "Operation",
                    "displayType": "select",
                    "dependencies": {
                        "conditions": [
                            {
                                "field": "secret",
                                "operator": "NOT_EMPTY"
                            },
                            {
                                "field": "resource",
                                "value": "webhook",
                                "operator": "EQUALS"
                            }
                        ]
                    }
                },
                "name": "operation"
            }
        ]
    },
    "created_by": "00000000000000000000000000000000eabe80b1f89dc01f3f7d24b69c949006",
    "modified_by": "00000000000000000000000000000000eabe80b1f89dc01f3f7d24b69c949006",
    "created_at": "2025-06-11T12:12:52.785Z",
    "updated_at": "2025-06-11T12:12:52.785Z"
}
