{
    "getGroups": {
        "definition": {
            "qs": {
                "exclude_deleted": true
            },
            "url": "https://{{secrets.subdomain}}.zendesk.com/api/v2/groups",
            "method": "get",
            "headers": {
                "Authorization": "Basic convertBufferBase64String({{secrets.email}}:{{secrets.password}})"
            },
            "response": {
                "error": {
                    "code": "{{response.code}}",
                    "message": "{{response.data.error}}"
                },
                "output": "{{response.data.groups}}"
            }
        }
    },
    "parameters": [],
    "getAssignees": {
        "definition": {
            "qs": {
                "role": "agent"
            },
            "url": "https://{{secrets.subdomain}}.zendesk.com/api/v2/users",
            "method": "get",
            "headers": {
                "Authorization": "Basic convertBufferBase64String({{secrets.email}}:{{secrets.password}})"
            },
            "response": {
                "error": {
                    "code": "{{response.code}}",
                    "message": "{{response.data.error}}"
                },
                "output": "{{response.data.users}}"
            },
            "pagination": {
                "qs": {
                    "page[size]": 10,
                    "page[after]": "{{response.data.meta.after_cursor}}"
                },
                "type": "cursor",
                "default": {
                    "page[size]": 10,
                    "page[after]": null
                },
                "condition": "{{response.data.meta.has_more}} !== false"
            }
        }
    },
    "definition": {
        "qs": {},
        "url": "https://{{secrets.subdomain}}.zendesk.com/api/v2/tickets",
        "method": "get",
        "headers": {
            "Authorization": "Basic convertBufferBase64String({{secrets.email}}:{{secrets.password}})"
        },
        "response": {
            "error": {
                "code": "{{response.status}}",
                "message": "{{response.data.error}}"
            },
            "output": "{{response.data.tickets}}"
        },
        "pagination": {
            "qs": {
                "page[size]": 10,
                "page[after]": "{{response.data.meta.after_cursor}}"
            },
            "type": "cursor",
            "default": {
                "page[size]": 10,
                "page[after]": null
            },
            "condition": "{{response.data.meta.has_more}} !== false"
        }
    }
}
