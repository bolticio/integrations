{
    "parameters": [
        {
            "meta": {
                "options": [
                    {
                        "label": "Add User",
                        "value": "users.usersCreate"
                    },
                    {
                        "label": "Update User",
                        "value": "users.usersUpdate"
                    },
                    {
                        "label": "Delete User",
                        "value": "users.usersDelete"
                    },
                    {
                        "label": "Get User",
                        "value": "users.usersGet"
                    },
                    {
                        "label": "Get All User",
                        "value": "users.usersList"
                    }
                ],
                "validation": {
                    "required": true
                },
                "description": "Select the operation you want to perform.",
                "displayName": "Operation",
                "displayType": "select",
                "placeholder": "Select an operation",
                "dependencies": {
                    "conditions": [
                        {
                            "field": "resource",
                            "value": "users",
                            "operator": "EQUALS"
                        }
                    ]
                }
            },
            "name": "operation"
        }
    ],
    "id": "34f94243-3f04-463b-bb57-e8e69de87406",
    "integration_id": "f1ab10ab-6751-4c18-b4ca-8ef8a5d23ccf",
    "resource_id": "af67b471-1799-4d80-89c6-31c40f527e5c",
    "name": "usersUpdate",
    "content": {
        "definition": {
            "url": "https://integrations.copilot.live/v1/users/{{parameters.userId}}",
            "body": {
                "meta": "{{parameters.meta}}",
                "name": "{{parameters.name}}",
                "email": "{{parameters.email}}",
                "phone": "{{parameters.phone}}",
                "device": {
                    "platform": "{{parameteres.platform}}",
                    "languages": [
                        "{{parameteres.languages}}"
                    ],
                    "userAgent": "{{parameteres.userAgent}}",
                    "appVersion": "{{parameteres.appVersion}}"
                },
                "hostId": "{{parameters.hostId}}",
                "location": {
                    "geo": {
                        "latitude": "{{parameteres.latitude}}",
                        "longitude": "{{parameteres.longitude}}"
                    },
                    "city": "{{parameteres.city}}",
                    "state": "{{parameteres.state}}",
                    "region": "{{parameteres.region}}",
                    "country": "{{parameteres.country}}",
                    "postalCode": "{{parameteres.postalCode}}",
                    "regionCode": "{{parameteres.regionCode}}",
                    "countryCode": "{{parameteres.countryCode}}"
                },
                "surfaces": "{{parameters.surfaces}}",
                "profilePicUrl": "{{parameters.profilePicUrl}}"
            },
            "method": "put",
            "headers": {
                "Accept": "application/json",
                "Content-Type": "application/json",
                "x-integration-id": "{{secrets.integration_id}}",
                "x-integration-token": "{{secrets.integration_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data.code}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "ID of the user to delete",
                    "displayName": "User ID",
                    "displayType": "string",
                    "placeholder": "Enter the User ID"
                },
                "name": "userId"
            },
            {
                "meta": {
                    "validation": {},
                    "description": "External ID of the user",
                    "displayName": "Host Id",
                    "displayType": "text"
                },
                "name": "hostId"
            },
            {
                "meta": {
                    "validation": {},
                    "description": "Name of the user",
                    "displayName": "Name",
                    "displayType": "text"
                },
                "name": "name"
            },
            {
                "meta": {
                    "validation": {},
                    "description": "Email of the user",
                    "displayName": "Email",
                    "displayType": "text"
                },
                "name": "email"
            },
            {
                "meta": {
                    "validation": {},
                    "description": "Phone number of the user",
                    "displayName": "Phone",
                    "displayType": "text"
                },
                "name": "phone"
            },
            {
                "meta": {
                    "validation": {},
                    "description": "Profile pic of the user",
                    "displayName": "Profile Pic URL",
                    "displayType": "text"
                },
                "name": "profilePicUrl"
            },
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Key is required"
                                    }
                                },
                                "displayName": "key",
                                "displayType": "text"
                            },
                            "name": "key"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Value is required"
                                    }
                                },
                                "displayName": "value",
                                "displayType": "text"
                            },
                            "name": "value"
                        }
                    ],
                    "htmlProps": {
                        "allowAdd": true
                    },
                    "validation": {
                        "max": 100
                    },
                    "description": "message custom meta info",
                    "displayName": "Meta",
                    "displayType": "keyvalue"
                },
                "name": "meta"
            },
            {
                "meta": {
                    "value": "web",
                    "options": [
                        {
                            "label": "Call",
                            "value": "call"
                        },
                        {
                            "label": "Hosted-web",
                            "value": "hosted-web"
                        },
                        {
                            "label": "Web",
                            "value": "web"
                        },
                        {
                            "label": "WhatsApp",
                            "value": "whatsapp"
                        }
                    ],
                    "htmlProps": {
                        "allowDynamic": true
                    },
                    "validation": {},
                    "description": "users device surface",
                    "displayName": "Surfaces",
                    "displayType": "multiselect"
                },
                "name": "surfaces"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "User Device Agent",
                    "displayType": "text"
                },
                "name": "userAgent"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Device Platform",
                    "displayType": "text"
                },
                "name": "platform"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Device App Version",
                    "displayType": "text"
                },
                "name": "appVersion"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Languages",
                    "displayType": "multitext"
                },
                "name": "languages"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Latitude",
                    "displayType": "text"
                },
                "name": "latitude"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Longitude",
                    "displayType": "text"
                },
                "name": "longitude"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Postal Code",
                    "displayType": "text"
                },
                "name": "postalCode"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Region",
                    "displayType": "text"
                },
                "name": "region"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Region Code",
                    "displayType": "text"
                },
                "name": "regionCode"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "City",
                    "displayType": "text"
                },
                "name": "city"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Timezone",
                    "displayType": "text"
                },
                "name": "timezone"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "Country",
                    "displayType": "text"
                },
                "name": "country"
            },
            {
                "meta": {
                    "validation": {},
                    "displayName": "country Code",
                    "displayType": "text"
                },
                "name": "countryCode"
            }
        ]
    },
    "created_by": "00000000000000000000000000000000eabe80b1f89dc01f3f7d24b69c949006",
    "modified_by": "00000000000000000000000000000000eabe80b1f89dc01f3f7d24b69c949006",
    "created_at": "2025-06-11T12:12:28.879Z",
    "updated_at": "2025-06-11T12:12:28.879Z"
}
