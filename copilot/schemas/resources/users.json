{
    "definition": {
        "url": "https://integrations.copilot.live/v1/users/{{parameters.userId}}",
        "body": {
            "meta": "{{parameters.meta}}",
            "name": "{{parameters.name}}",
            "email": "{{parameters.email}}",
            "phone": "{{parameters.phone}}",
            "device": {
                "platform": "{{parameteres.platform}}",
                "languages": [
                    "{{parameteres.languages}}"
                ],
                "userAgent": "{{parameteres.userAgent}}",
                "appVersion": "{{parameteres.appVersion}}"
            },
            "hostId": "{{parameters.hostId}}",
            "location": {
                "geo": {
                    "latitude": "{{parameteres.latitude}}",
                    "longitude": "{{parameteres.longitude}}"
                },
                "city": "{{parameteres.city}}",
                "state": "{{parameteres.state}}",
                "region": "{{parameteres.region}}",
                "country": "{{parameteres.country}}",
                "postalCode": "{{parameteres.postalCode}}",
                "regionCode": "{{parameteres.regionCode}}",
                "countryCode": "{{parameteres.countryCode}}"
            },
            "surfaces": "{{parameters.surfaces}}",
            "profilePicUrl": "{{parameters.profilePicUrl}}"
        },
        "method": "put",
        "headers": {
            "Accept": "application/json",
            "Content-Type": "application/json",
            "x-integration-id": "{{secrets.integration_id}}",
            "x-integration-token": "{{secrets.integration_token}}"
        },
        "response": {
            "error": {
                "code": "{{response.data.code}}",
                "message": "{{response.data.message}}"
            },
            "output": "{{response.data}}"
        }
    },
    "parameters": [
        {
            "meta": {
                "validation": {
                    "required": true
                },
                "description": "ID of the user to delete",
                "displayName": "User ID",
                "displayType": "string",
                "placeholder": "Enter the User ID"
            },
            "name": "userId"
        },
        {
            "meta": {
                "validation": {},
                "description": "External ID of the user",
                "displayName": "Host Id",
                "displayType": "text"
            },
            "name": "hostId"
        },
        {
            "meta": {
                "validation": {},
                "description": "Name of the user",
                "displayName": "Name",
                "displayType": "text"
            },
            "name": "name"
        },
        {
            "meta": {
                "validation": {},
                "description": "Email of the user",
                "displayName": "Email",
                "displayType": "text"
            },
            "name": "email"
        },
        {
            "meta": {
                "validation": {},
                "description": "Phone number of the user",
                "displayName": "Phone",
                "displayType": "text"
            },
            "name": "phone"
        },
        {
            "meta": {
                "validation": {},
                "description": "Profile pic of the user",
                "displayName": "Profile Pic URL",
                "displayType": "text"
            },
            "name": "profilePicUrl"
        },
        {
            "meta": {
                "children": [
                    {
                        "meta": {
                            "validation": {
                                "required": true,
                                "requiredDetail": {
                                    "errorMsg": "Key is required"
                                }
                            },
                            "displayName": "key",
                            "displayType": "text"
                        },
                        "name": "key"
                    },
                    {
                        "meta": {
                            "validation": {
                                "required": true,
                                "requiredDetail": {
                                    "errorMsg": "Value is required"
                                }
                            },
                            "displayName": "value",
                            "displayType": "text"
                        },
                        "name": "value"
                    }
                ],
                "htmlProps": {
                    "allowAdd": true
                },
                "validation": {
                    "max": 100
                },
                "description": "message custom meta info",
                "displayName": "Meta",
                "displayType": "keyvalue"
            },
            "name": "meta"
        },
        {
            "meta": {
                "value": "web",
                "options": [
                    {
                        "label": "Call",
                        "value": "call"
                    },
                    {
                        "label": "Hosted-web",
                        "value": "hosted-web"
                    },
                    {
                        "label": "Web",
                        "value": "web"
                    },
                    {
                        "label": "WhatsApp",
                        "value": "whatsapp"
                    }
                ],
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {},
                "description": "users device surface",
                "displayName": "Surfaces",
                "displayType": "multiselect"
            },
            "name": "surfaces"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "User Device Agent",
                "displayType": "text"
            },
            "name": "userAgent"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Device Platform",
                "displayType": "text"
            },
            "name": "platform"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Device App Version",
                "displayType": "text"
            },
            "name": "appVersion"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Languages",
                "displayType": "multitext"
            },
            "name": "languages"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Latitude",
                "displayType": "text"
            },
            "name": "latitude"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Longitude",
                "displayType": "text"
            },
            "name": "longitude"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Postal Code",
                "displayType": "text"
            },
            "name": "postalCode"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Region",
                "displayType": "text"
            },
            "name": "region"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Region Code",
                "displayType": "text"
            },
            "name": "regionCode"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "City",
                "displayType": "text"
            },
            "name": "city"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Timezone",
                "displayType": "text"
            },
            "name": "timezone"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "Country",
                "displayType": "text"
            },
            "name": "country"
        },
        {
            "meta": {
                "validation": {},
                "displayName": "country Code",
                "displayType": "text"
            },
            "name": "countryCode"
        }
    ]
}
