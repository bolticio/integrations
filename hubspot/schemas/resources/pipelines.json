{
    "parameters": [
        {
            "meta": {
                "options": [
                    {
                        "label": "Deals",
                        "value": "deals"
                    },
                    {
                        "label": "Tickets",
                        "value": "tickets"
                    },
                    {
                        "label": "Contacts",
                        "value": "contacts"
                    },
                    {
                        "label": "Companies",
                        "value": "companies"
                    },
                    {
                        "label": "Quotes",
                        "value": "quotes"
                    }
                ],
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "required": true
                },
                "description": "The type of CRM object. Example: deals, tickets, etc.",
                "displayName": "Object Type",
                "displayType": "select",
                "placeholder": "Select object type"
            },
            "name": "objectType"
        },
        {
            "meta": {
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "max": 100,
                    "min": 3,
                    "required": true
                },
                "description": "The ID of the pipeline to retrieve the stage from.",
                "displayName": "Pipeline ID",
                "displayType": "text",
                "placeholder": "Enter pipeline ID"
            },
            "name": "pipelineId"
        },
        {
            "meta": {
                "htmlProps": {
                    "allowDynamic": true
                },
                "validation": {
                    "max": 100,
                    "min": 3,
                    "required": true
                },
                "description": "The ID of the stage you want to retrieve.",
                "displayName": "Stage ID",
                "displayType": "text",
                "placeholder": "Enter stage ID"
            },
            "name": "stageId"
        }
    ],
    "definition": {
        "url": "https://api.hubapi.com/crm/v3/pipelines/{{parameters.objectType}}/{{parameters.pipelineId}}/stages/{{parameters.stageId}}",
        "method": "get",
        "headers": {
            "Authorization": "Bearer {{secrets.access_token}}"
        },
        "response": {
            "error": {
                "code": "{{response.status}}",
                "message": "{{response.data.message}}"
            },
            "output": "{{response.data}}"
        }
    }
}
