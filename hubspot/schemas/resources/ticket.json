{
    "definition": {
        "qs": {
            "limit": "{{parameters.limit}}",
            "archived": "{{parameters.archived}}"
        },
        "url": "https://api.hubapi.com/crm/v3/objects/contacts",
        "method": "get",
        "headers": {
            "Accept": "application/json",
            "Authorization": "Bearer {{secrets.access_token}}"
        },
        "response": {
            "error": {
                "code": "{{response.status}}",
                "message": "{{response.data.message}}"
            },
            "output": "{{response.data.results}}"
        },
        "pagination": {
            "qs": {
                "after": "{{response.data.paging.next.after}}"
            },
            "default": {
                "after": null,
                "limit": 100
            },
            "condition": "{{response.data.paging}} !== undefined"
        }
    },
    "parameters": [
        {
            "meta": {
                "value": false,
                "description": "Whether to return only results that have been archived",
                "displayName": "Archived",
                "displayType": "toggle"
            },
            "name": "archived"
        }
    ]
}
