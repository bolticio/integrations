# Facebook Posts API

The Pages API is a set of Facebook Graph API endpoints that apps can use to create and manage a Page's settings and content.

# Components

## Access Tokens

- API authentication is handled through Access Tokens.
- Most endpoints require Page access tokens, which are:
  - Unique to each Page, app User, and app.
  - Have an expiration time.
- To obtain a token from an app User:
  - The app User must own or have a Task on the Page.
  - Use Facebook Login for token retrieval.

- **For New Page Experience:**
  - A Page access token is required for all endpoints except:
    - `/{user-id}/accounts`
    - `/pages/search`
    - `/{user-id}/likes`
    - `/{page-id}`

## Graph API

- If unfamiliar with the Graph API:
  - Refer to [Meta's Graph API documentation](https://developers.facebook.com/docs/graph-api).

## Facebook Login

- Enables app users to log into your app.
- Requests permissions to access data.

## Facebook Login for Business

- Preferred for Tech Providers and business app developers.
- Allows access to business clients' assets.

## Features

- Some endpoints require Features that must be approved through App Review.
- Features allow:
  - Access to public Page data.
  - Tasks without explicit permission.

## Mentions

- Allows Pages to:
  - Publicly reply to a specific person.
  - Mention those who post or comment on the Page.

## Page-Scoped User IDs (PSID)

- Unique IDs for each User-Page pair.
- Used for:
  - Identifying interactions on Pages.
  - Public Messenger conversations.

## Permissions

- Required for most endpoints.
- Granted via:
  - Facebook Login.
  - Business Manager (for apps claimed by a Business).

- **App Review:**
  - Permissions must be approved for live apps.
  - Business apps need Advanced access for permissions.

## Page Search

- Find information about Facebook Pages, including:
  - Names.
  - Locations.
  - `@Mentions`.
  - Tagging Pages for branded content.

## Rate Limits

- All Pages endpoint requests are subject to rate limits.
- View usage in the App Dashboard.

## Tasks

- Users can perform specific actions on Pages based on their task assignment.

### Task and Actions

- **ADVERTISE:** Create ads, unpublished posts, and ads for Instagram-connected Pages.
- **ANALYZE:** View Page Insights and admin activities.
- **CREATE_CONTENT:** Publish content as the Page.
- **MANAGE:** Assign/manage Page tasks.
- **MANAGE_LEADS:** View and manage leads.
- **MESSAGING:** Send messages as the Page.
- **MODERATE:** Respond to/delete comments and publish Instagram content.
- **VIEW_MONETIZATION_INSIGHTS:** View monetization insights.

- Admin access allows all tasks on a Page.

## Messenger Platform

- Engage with customers or interested individuals via Messenger.

## Meta Webhooks for Pages

- Receive real-time notifications for:
  - Comments on posts.
  - Reactions to Page posts.

## App Review

- All permissions and features require approval via App Review.
- Apps in Development Mode can request permissions for users with app roles.

## How It Works

1. Obtain a User Access Token using Facebook Login.
2. Query the `/me/accounts` endpoint to retrieve:
   - Page ID.
   - Page Access Token.
3. Use the retrieved ID and token to interact with the Page node.

- If multiple Pages are granted:
  - Capture all Page IDs and tokens.
  - Provide app Users with options to target specific Pages.
