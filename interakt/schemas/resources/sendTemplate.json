{
    "parameters": [
        {
            "meta": {
                "options": [
                    {
                        "label": "Send a template message with no header",
                        "value": "sendTemplate.sendTemplateMessageNoHeader",
                        "description": "Send a template message with no header"
                    },
                    {
                        "label": "Send a template message with header variable",
                        "value": "sendTemplate.sendTemplateTextHeaderWithVariable",
                        "description": "Send a template message with header variable"
                    },
                    {
                        "label": "Send a template message with document as header variable",
                        "value": "sendTemplate.sendTemplateDocumentHeader",
                        "description": "Send a template message with document as header variable"
                    },
                    {
                        "label": "Send a template message with image as header variable",
                        "value": "sendTemplate.sendTemplateImageHeader",
                        "description": "Send a template message with image as header variable"
                    },
                    {
                        "label": "Fetch all approved templates of an organization",
                        "value": "sendTemplate.getAllTemplates",
                        "description": "Fetch all approved templates of an organization"
                    }
                ],
                "validation": {
                    "required": true
                },
                "description": "Select the operation you want to perform.",
                "displayName": "Operation",
                "displayType": "select",
                "placeholder": "Select an operation",
                "dependencies": {
                    "conditions": [
                        {
                            "field": "resource",
                            "value": "sendTemplate",
                            "operator": "EQUALS"
                        }
                    ]
                }
            },
            "name": "operation"
        }
    ],
    "getTemplates": {
        "definition": {
            "qs": {
                "approval_status": "APPROVED"
            },
            "url": "https://api.interakt.ai/v1/public/track/organization/templates",
            "method": "get",
            "headers": {
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data.results.templates}}"
            }
        }
    },
    "sendTemplateDynamicCTA": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/message/",
            "body": {
                "type": "Template",
                "template": {
                    "name": "{{parameters.listApprovedTemplates}}",
                    "bodyValues": "{{parameters.bodyValues}}",
                    "buttonValues": {
                        "1": [
                            "axaxaxa"
                        ]
                    },
                    "headerValues": "{{parameters.headerValues}}",
                    "languageCode": "en"
                },
                "callbackData": "Test callBackData",
                "fullPhoneNumber": "{{parameters.fullPhoneNumber}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "config": {
                        "url": "integrations/options",
                        "body": {
                            "name": "interakt",
                            "secret": "{{parameters.secret}}",
                            "resource": "sendTemplate",
                            "operation": "sendTemplate.sendTemplateMessageNoHeader",
                            "loadOptionsMethod": "getTemplates"
                        },
                        "method": "post",
                        "urlType": "options",
                        "labelKey": "display_name",
                        "valueKey": "name"
                    },
                    "options": [],
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template is a required field."
                        }
                    },
                    "description": "Select a template which you want to send as a message.",
                    "displayName": "Select Template",
                    "displayType": "select",
                    "placeholder": "Select a template"
                },
                "name": "listApprovedTemplates"
            },
            {
                "meta": {
                    "htmlProps": {
                        "disabled": false,
                        "readOnly": false,
                        "continents": [
                            "NA",
                            "SA",
                            "AS",
                            "OC",
                            "AF",
                            "EU"
                        ],
                        "defaultCountry": "IN"
                    },
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Full phone number field is a required field"
                        }
                    },
                    "description": "Full phone number of a customer.",
                    "displayName": "Full phone number",
                    "displayType": "phone",
                    "placeholder": "Enter the full phone number"
                },
                "name": "fullPhoneNumber"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template body variables is a required field"
                        }
                    },
                    "description": "Please provide a list of body variables.",
                    "displayName": "Template Body Variable",
                    "displayType": "multitext",
                    "placeholder": "Enter an array of body variables."
                },
                "name": "bodyValues"
            }
        ]
    },
    "custom_api": {
        "definition": {
            "qs": "{{parameters.query_params}}",
            "url": "{{parameters.base_url}}",
            "body": "{{parameters.body}}",
            "method": "{{parameters.method}}",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic convertBufferBase64String({{secrets.api_key}}:X)"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "value": "get",
                    "options": [
                        {
                            "label": "GET",
                            "value": "get"
                        },
                        {
                            "label": "PUT",
                            "value": "put"
                        },
                        {
                            "label": "POST",
                            "value": "post"
                        },
                        {
                            "label": "PATCH",
                            "value": "patch"
                        },
                        {
                            "label": "DELETE",
                            "value": "delete"
                        }
                    ],
                    "validation": {
                        "required": true
                    },
                    "description": "The HTTP Method to be used for the request.",
                    "displayName": "Method",
                    "displayType": "select",
                    "placeholder": "Select the HTTP method"
                },
                "name": "method"
            },
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "The URL of the HTTP Request.",
                    "displayName": "Base URL",
                    "displayType": "text",
                    "placeholder": "Eg. https://www.example.com"
                },
                "name": "base_url"
            },
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Key is required"
                                    }
                                },
                                "displayName": "key",
                                "displayType": "text"
                            },
                            "name": "key"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Value is required"
                                    }
                                },
                                "displayName": "value",
                                "displayType": "text"
                            },
                            "name": "value"
                        }
                    ],
                    "htmlProps": {
                        "allowAdd": true
                    },
                    "description": "You don't have to add authorization headers; we already did that for you.",
                    "displayName": "Headers",
                    "displayType": "keyvalue",
                    "placeholder": "Add header key/value pairs"
                },
                "name": "headers"
            },
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Key is required"
                                    }
                                },
                                "displayName": "key",
                                "displayType": "text"
                            },
                            "name": "key"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Value is required"
                                    }
                                },
                                "displayName": "value",
                                "displayType": "text"
                            },
                            "name": "value"
                        }
                    ],
                    "htmlProps": {
                        "allowAdd": true
                    },
                    "description": "Query string parameters appended to the base URL.",
                    "displayName": "Query String",
                    "displayType": "keyvalue",
                    "placeholder": "Add query parameter key/value pairs"
                },
                "name": "query_params"
            },
            {
                "meta": {
                    "htmlProps": {
                        "size": "md",
                        "language": "json",
                        "fullscreen": true,
                        "showSuggestions": true
                    },
                    "description": "The Payload (Body) of the HTTP Request.",
                    "displayName": "Body",
                    "displayType": "code",
                    "placeholder": "Enter JSON payload"
                },
                "name": "body"
            }
        ]
    },
    "createcampaign": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/create-campaign/",
            "body": {
                "campaign_name": "{{parameters.campaignName}}",
                "campaign_type": "PublicAPI",
                "language_code": "en",
                "template_name": "{{parameters.listApprovedTemplates}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Campaign name is a required field."
                        }
                    },
                    "description": "Please provide a campaign name.",
                    "displayName": "Campaign Name",
                    "displayType": "text",
                    "placeholder": "Enter a campaign name"
                },
                "name": "campaignName"
            },
            {
                "meta": {
                    "config": {
                        "url": "integrations/options",
                        "body": {
                            "name": "interakt",
                            "secret": "{{parameters.secret}}",
                            "resource": "campaign",
                            "operation": "campaign.createCampaign",
                            "loadOptionsMethod": "getTemplates"
                        },
                        "method": "post",
                        "urlType": "options",
                        "labelKey": "name",
                        "valueKey": "name"
                    },
                    "options": [],
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template is a required field."
                        }
                    },
                    "description": "Select a template from a list of approved templates.",
                    "displayName": "Template",
                    "displayType": "select",
                    "placeholder": "Select a template"
                },
                "name": "listApprovedTemplates"
            }
        ]
    },
    "getusers": {
        "definition": {
            "qs": {
                "limit": 100,
                "offset": 0
            },
            "url": "https://api.interakt.ai/v1/public/apis/users/",
            "body": {
                "filters": [
                    {
                        "op": "{{parameters.filter[0].comparisonOperator}}",
                        "val": "{{parameters.filter[0].createdDateUtc}}",
                        "trait": "created_at_utc"
                    },
                    {
                        "op": "{{parameters.filter[1].comparisonOperator}}",
                        "val": "{{parameters.filter[1].createdDateUtc}}",
                        "trait": "created_at_utc",
                        "supr_op": "and"
                    }
                ]
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "options": [
                                    {
                                        "label": ">",
                                        "value": "gt"
                                    },
                                    {
                                        "label": "<",
                                        "value": "lt"
                                    },
                                    {
                                        "label": ">=",
                                        "value": "gte"
                                    },
                                    {
                                        "label": "<=",
                                        "value": "lte"
                                    }
                                ],
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Comparison operator is a required field"
                                    }
                                },
                                "description": "Select an operator from the dropdown",
                                "displayName": "Select operator",
                                "displayType": "select"
                            },
                            "name": "comparisonOperator"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true,
                                    "requiredDetail": {
                                        "errorMsg": "Created date is a required field"
                                    }
                                },
                                "description": "Provide the created date of an user in UTC in following format (e.g. YYYY-MM-DD).",
                                "displayName": "Created date",
                                "displayType": "date",
                                "placeholder": "Enter the created date of a user"
                            },
                            "name": "createdDateUtc"
                        }
                    ],
                    "validation": {
                        "required": true
                    },
                    "description": "An array of filters with comparison operators. Each filter must have a operator and date in utc. <b>Please provide exactly 2 filters.</b>",
                    "displayName": "Apply Filter(s)",
                    "displayType": "array"
                },
                "name": "filter"
            }
        ]
    },
    "trackevents": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/track/events/",
            "body": {
                "event": "{{parameters.event}}",
                "traits": {
                    "price": "{{parameters.price}}",
                    "currency": "{{parameters.currency}}",
                    "quantity": "{{parameters.quantity}}",
                    "productName": "{{parameters.productName}}"
                },
                "fullPhoneNumber": "{{parameters.phoneNumber}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Please provide user's phone number, including country code (e.g., 917767899538)",
                    "displayName": "Phone Number",
                    "displayType": "text",
                    "placeholder": "Enter the phone number"
                },
                "name": "phoneNumber"
            },
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Event name representing the action the user performed (e.g., Product Added to Cart, User Signed Up, etc)",
                    "displayName": "Event Name",
                    "displayType": "text",
                    "placeholder": "Enter an event name"
                },
                "name": "event"
            },
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Name of the product or item related to an event.",
                    "displayName": "Product Name",
                    "displayType": "text",
                    "placeholder": "Enter product name"
                },
                "name": "productName"
            },
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Quantity of the product or item involved in the event.",
                    "displayName": "Quantity",
                    "displayType": "number",
                    "placeholder": "Enter the quantity"
                },
                "name": "quantity"
            },
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Price of the product or item.",
                    "displayName": "Price",
                    "displayType": "number",
                    "placeholder": "Enter price"
                },
                "name": "price"
            },
            {
                "meta": {
                    "options": [
                        {
                            "label": "INR",
                            "value": "INR"
                        },
                        {
                            "label": "USD",
                            "value": "USD"
                        }
                    ],
                    "validation": {
                        "required": true
                    },
                    "description": "Currency used for the product price (e.g. INR, USD, etc)",
                    "displayName": "Currency",
                    "displayType": "select",
                    "placeholder": "Enter the currency code"
                },
                "name": "currency"
            }
        ]
    },
    "trackuser": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/track/users/",
            "body": {
                "tags": "{{parameters.tags}}",
                "traits": {
                    "name": "{{parameters.username}}",
                    "email": "{{parameters.email}}",
                    "whatsapp_opted_in": "{{parameters.whatsappOptedIn}}"
                },
                "fullPhoneNumber": "{{parameters.phoneNumber}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Phone Number is a required field"
                        }
                    },
                    "description": "Please provide user's phone number, including country code (e.g., 917767899538)",
                    "displayName": "Phone Number",
                    "displayType": "text",
                    "placeholder": "Enter the phone number"
                },
                "name": "phoneNumber"
            },
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Please provide user's name.",
                    "displayName": "Name",
                    "displayType": "text",
                    "placeholder": "Enter user's name"
                },
                "name": "username"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Email is a required field"
                        }
                    },
                    "description": "Please provide email of a user you want to create.",
                    "displayName": "Email",
                    "displayType": "email",
                    "placeholder": "Enter an email of a user"
                },
                "name": "email"
            },
            {
                "meta": {
                    "value": false,
                    "validation": {
                        "disabled": false
                    },
                    "description": "Indicates whether the user has opted in for WhatsApp messages.",
                    "displayName": "Whatsapp Opted?",
                    "displayType": "toggle",
                    "placeholder": "Enter user's preference of whatsapp"
                },
                "name": "whatsappOptedIn"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Tags is a required field"
                        }
                    },
                    "description": "Tags associated with the user (e.g. admin, user, etc).",
                    "displayName": "Tags",
                    "displayType": "multitext",
                    "placeholder": "Enter tags"
                },
                "name": "tags"
            }
        ]
    },
    "sendtemplatedocumentheader": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/message/",
            "body": {
                "type": "Template",
                "template": {
                    "name": "{{parameters.listApprovedTemplates}}",
                    "fileName": "{{parameters.fileName}}",
                    "bodyValues": "{{parameters.bodyValues}}",
                    "headerValues": "{{parameters.headerValues}}",
                    "languageCode": "en"
                },
                "callbackData": "{{parameters.phoneNumber}}",
                "fullPhoneNumber": "{{parameters.phoneNumber}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "config": {
                        "url": "integrations/options",
                        "body": {
                            "name": "interakt",
                            "secret": "{{parameters.secret}}",
                            "resource": "sendTemplate",
                            "operation": "sendTemplate.sendTemplateMessageNoHeader",
                            "loadOptionsMethod": "getTemplates"
                        },
                        "method": "post",
                        "urlType": "options",
                        "labelKey": "display_name",
                        "valueKey": "name"
                    },
                    "options": [],
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template is a required field."
                        }
                    },
                    "description": "Select a template which you want to send as a message.",
                    "displayName": "Template",
                    "displayType": "select",
                    "placeholder": "Select a template"
                },
                "name": "listApprovedTemplates"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Phone number field is a required field"
                        }
                    },
                    "description": "Please provide phone number of a customer (e.g. 919998884441)).",
                    "displayName": "Phone Number",
                    "displayType": "text",
                    "placeholder": "Enter the phone number"
                },
                "name": "phoneNumber"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Document Url(s) is a required field"
                        }
                    },
                    "description": "Please provide a list of publically available document(s) url.",
                    "displayName": "Document Url(s)",
                    "displayType": "multitext",
                    "placeholder": "Enter a list of publically available document(s) url."
                },
                "name": "headerValues"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "File name is a required field"
                        }
                    },
                    "description": "Please provide a file name for your document.",
                    "displayName": "File Name",
                    "displayType": "text",
                    "placeholder": "Enter a file name"
                },
                "name": "fileName"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template body variables is a required field"
                        }
                    },
                    "description": "Please provide a list of body variables corresponding to selected template.",
                    "displayName": "Template Body Variable(s)",
                    "displayType": "multitext",
                    "placeholder": "Enter a list of body variables."
                },
                "name": "bodyValues"
            }
        ]
    },
    "sendtemplatemessagenoheader": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/message/",
            "body": {
                "type": "Template",
                "template": {
                    "name": "{{parameters.listApprovedTemplates}}",
                    "bodyValues": "{{parameters.bodyValues}}",
                    "languageCode": "en"
                },
                "callbackData": "{{parameters.phoneNumber}}",
                "fullPhoneNumber": "{{parameters.phoneNumber}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "config": {
                        "url": "integrations/options",
                        "body": {
                            "name": "interakt",
                            "secret": "{{parameters.secret}}",
                            "resource": "sendTemplate",
                            "operation": "sendTemplate.sendTemplateMessageNoHeader",
                            "loadOptionsMethod": "getTemplates"
                        },
                        "method": "post",
                        "urlType": "options",
                        "labelKey": "display_name",
                        "valueKey": "name"
                    },
                    "options": [],
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template is a required field."
                        }
                    },
                    "description": "Select a template which you want to send as a message.",
                    "displayName": "Template",
                    "displayType": "select",
                    "placeholder": "Select a template"
                },
                "name": "listApprovedTemplates"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Phone number is a required field"
                        }
                    },
                    "description": "Please provide phone number of a customer (e.g. 919998884441)).",
                    "displayName": "Phone Number",
                    "displayType": "text",
                    "placeholder": "Enter the phone number"
                },
                "name": "phoneNumber"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template body variables is a required field"
                        }
                    },
                    "description": "Please provide a list of body variables corresponding to selected template.",
                    "displayName": "Variable",
                    "displayType": "multitext",
                    "placeholder": "Enter the body variables"
                },
                "name": "bodyValues"
            }
        ]
    },
    "sendtemplatetextheaderwithvariable": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/message/",
            "body": {
                "type": "Template",
                "template": {
                    "name": "{{parameters.listApprovedTemplates}}",
                    "bodyValues": "{{parameters.bodyValues}}",
                    "headerValues": "{{parameters.headerValues}}",
                    "languageCode": "en"
                },
                "callbackData": "{{parameters.phoneNumber}}",
                "fullPhoneNumber": "{{parameters.phoneNumber}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "config": {
                        "url": "integrations/options",
                        "body": {
                            "name": "interakt",
                            "secret": "{{parameters.secret}}",
                            "resource": "sendTemplate",
                            "operation": "sendTemplate.sendTemplateMessageNoHeader",
                            "loadOptionsMethod": "getTemplates"
                        },
                        "method": "post",
                        "urlType": "options",
                        "labelKey": "display_name",
                        "valueKey": "name"
                    },
                    "options": [],
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template is a required field."
                        }
                    },
                    "description": "Select a template which you want to send as a message.",
                    "displayName": "Template",
                    "displayType": "select",
                    "placeholder": "Select a template"
                },
                "name": "listApprovedTemplates"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Phone number field is a required field"
                        }
                    },
                    "description": "Please provide phone number of a customer (e.g. 919998884441)).",
                    "displayName": "Phone Number",
                    "displayType": "text",
                    "placeholder": "Enter the phone number"
                },
                "name": "phoneNumber"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template header variables is a required field"
                        }
                    },
                    "description": "Please provide a list of header variables.",
                    "displayName": "Template Header Variable(s)",
                    "displayType": "multitext",
                    "placeholder": "Enter a list of header variables."
                },
                "name": "headerValues"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template body variables is a required field"
                        }
                    },
                    "description": "Please provide a list of body variables corresponding to selected template.",
                    "displayName": "Template Body Variable(s)",
                    "displayType": "multitext",
                    "placeholder": "Enter a list of body variables."
                },
                "name": "bodyValues"
            }
        ]
    },
    "getalltemplates": {
        "definition": {
            "qs": {
                "approval_status": "APPROVED"
            },
            "url": "https://api.interakt.ai/v1/public/track/organization/templates",
            "method": "get",
            "headers": {
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data.results.templates}}"
            }
        },
        "parameters": []
    },
    "sendtemplateimageheader": {
        "definition": {
            "url": "https://api.interakt.ai/v1/public/message/",
            "body": {
                "type": "Template",
                "template": {
                    "name": "{{parameters.listApprovedTemplates}}",
                    "bodyValues": "{{parameters.bodyValues}}",
                    "headerValues": "{{parameters.headerValues}}",
                    "languageCode": "en"
                },
                "callbackData": "{{parameters.phoneNumber}}",
                "fullPhoneNumber": "{{parameters.phoneNumber}}"
            },
            "method": "post",
            "headers": {
                "Content-Type": "application/json",
                "Authorization": "Basic {{secrets.api_token}}"
            },
            "response": {
                "error": {
                    "code": "{{response.status}}",
                    "message": "{{response.data.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "config": {
                        "url": "integrations/options",
                        "body": {
                            "name": "interakt",
                            "secret": "{{parameters.secret}}",
                            "resource": "sendTemplate",
                            "operation": "sendTemplate.sendTemplateMessageNoHeader",
                            "loadOptionsMethod": "getTemplates"
                        },
                        "method": "post",
                        "urlType": "options",
                        "labelKey": "display_name",
                        "valueKey": "name"
                    },
                    "options": [],
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template is a required field."
                        }
                    },
                    "description": "Select a template which you want to send as a message.",
                    "displayName": "Template",
                    "displayType": "select",
                    "placeholder": "Select a template"
                },
                "name": "listApprovedTemplates"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Phone number field is a required field"
                        }
                    },
                    "description": "Please provide phone number of a customer (e.g. 919998884441)).",
                    "displayName": "Phone Number",
                    "displayType": "text",
                    "placeholder": "Enter the phone number"
                },
                "name": "phoneNumber"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Image Url(s) is a required field"
                        }
                    },
                    "description": "Please provide a list of publically available image urls.",
                    "displayName": "Image Url(s)",
                    "displayType": "multitext",
                    "placeholder": "Enter a list of publically available image urls."
                },
                "name": "headerValues"
            },
            {
                "meta": {
                    "validation": {
                        "required": true,
                        "requiredDetail": {
                            "errorMsg": "Template body variables is a required field"
                        }
                    },
                    "description": "Please provide a list of body variables corresponding to selected template.",
                    "displayName": "Template Body Variable(s)",
                    "displayType": "multitext",
                    "placeholder": "Enter a list of body variables."
                },
                "name": "bodyValues"
            }
        ]
    }
}
