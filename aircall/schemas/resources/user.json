{
    "parameters": [
        {
            "meta": {
                "validation": {
                    "required": true
                },
                "description": "The email address of the user.",
                "displayName": "Email",
                "displayType": "text",
                "placeholder": "Enter user email"
            },
            "name": "email"
        },
        {
            "meta": {
                "validation": {
                    "required": true
                },
                "description": "The first name of the user.",
                "displayName": "First Name",
                "displayType": "text",
                "placeholder": "Enter first name"
            },
            "name": "first_name"
        },
        {
            "meta": {
                "validation": {
                    "required": true
                },
                "description": "The last name of the user.",
                "displayName": "Last Name",
                "displayType": "text",
                "placeholder": "Enter last name"
            },
            "name": "last_name"
        },
        {
            "meta": {
                "options": [
                    {
                        "label": "Admin",
                        "value": "admin"
                    },
                    {
                        "label": "Agent",
                        "value": "agent"
                    }
                ],
                "validation": {
                    "required": true
                },
                "description": "Role of the user.",
                "displayName": "Role",
                "displayType": "select",
                "placeholder": "Select role"
            },
            "name": "role"
        }
    ],
    "definition": {
        "url": "https://api.aircall.io/v1/users",
        "body": {
            "role": "{{parameters.role}}",
            "email": "{{parameters.email}}",
            "last_name": "{{parameters.last_name}}",
            "first_name": "{{parameters.first_name}}"
        },
        "method": "post",
        "headers": {
            "Content-Type": "application/json",
            "Authorization": "Basic convertBufferBase64String({{secrets.api_id}}:{{secrets.api_token}})"
        },
        "response": {
            "error": {
                "code": "{{response.status}}",
                "message": "{{response.data}}"
            },
            "output": "{{response.data}}"
        }
    }
}
