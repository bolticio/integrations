{
    "parameters": [
        {
            "meta": {
                "options": [
                    {
                        "label": "File upload using URL",
                        "value": "fileOperations.urlUpload"
                    },
                    {
                        "label": "Get original file's CDN URL",
                        "value": "fileOperations.getOriginalFile"
                    },
                    {
                        "label": "Update File Name",
                        "value": "fileOperations.update"
                    },
                    {
                        "label": "Delete File",
                        "value": "fileOperations.delete"
                    }
                ],
                "validation": {
                    "required": true
                },
                "description": "Select the file operation you want to perform on Image",
                "displayName": "Operation",
                "displayType": "select",
                "placeholder": "Select a file operation",
                "dependencies": {
                    "conditions": [
                        {
                            "field": "resource",
                            "value": "fileOperations",
                            "operator": "EQUALS"
                        }
                    ]
                }
            },
            "name": "operation"
        }
    ],
    "basic": {
        "config": {
            "url": "integrations/parameters",
            "body": {
                "name": "pixelbin",
                "secret": "{{parameters.secret}}",
                "resource": "transform",
                "loadParametersMethod": "getBasicTransformationParams"
            },
            "method": "post",
            "urlType": "parameters"
        },
        "definition": {
            "url": "https://asia-south1.api.boltic.io/apps/v1.0/organization/3f7d3552-afc4-4153-9df1-295be3c37198/d8efd6b8-3ff0-4958-96bc-40a594a135c9-http/transformation",
            "body": "{{parameters}}",
            "method": "post",
            "headers": {
                "Authorization": "{{secrets.api_key}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data}}",
                    "message": "{{response.data}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "description": "",
                                "displayName": "PixelBin zone slug",
                                "displayType": "text",
                                "placeholder": "Please add PixelBin zone slug",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "transform",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "zone"
                        },
                        {
                            "meta": {
                                "config": {
                                    "url": "integrations/options",
                                    "body": {
                                        "name": "pixelbin",
                                        "secret": "{{parameters.secret}}",
                                        "resource": "transform",
                                        "operation": "transform.basic",
                                        "loadOptionsMethod": "getBasicTransformations"
                                    },
                                    "method": "post",
                                    "urlType": "options",
                                    "labelKey": "displayName",
                                    "valueKey": "name"
                                },
                                "options": [],
                                "validation": {
                                    "required": true
                                },
                                "description": "Select the transformation you want to apply on image.",
                                "displayName": "Transformation",
                                "displayType": "select",
                                "placeholder": "Select a transformation",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "transform",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "transformationPattern"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true
                                },
                                "description": "Enter the path of the image location in PixelBin storage, starting after the initial '/'. Example: path/to/image.jpg",
                                "displayName": "Image path in PixelBin storage",
                                "displayType": "text",
                                "placeholder": "Please add path of the Image location in PixelBin storage",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "transform",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "imgPath"
                        }
                    ],
                    "displayType": "object"
                },
                "name": "transformationDetails"
            }
        ]
    },
    "ai": {
        "config": {
            "url": "integrations/parameters",
            "body": {
                "name": "pixelbin",
                "secret": "{{parameters.secret}}",
                "resource": "transform",
                "loadParametersMethod": "getAITransformationParams"
            },
            "method": "post",
            "urlType": "parameters"
        },
        "definition": {
            "url": "https://asia-south1.api.boltic.io/apps/v1.0/organization/3f7d3552-afc4-4153-9df1-295be3c37198/d8efd6b8-3ff0-4958-96bc-40a594a135c9-http/transformation",
            "body": "{{parameters}}",
            "method": "post",
            "headers": {
                "Authorization": "{{secrets.api_key}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data}}",
                    "message": "{{response.data}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "description": "",
                                "displayName": "PixelBin Zone slug",
                                "displayType": "text",
                                "placeholder": "Please add PixelBin Zone slug",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "transform",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "zone"
                        },
                        {
                            "meta": {
                                "config": {
                                    "url": "integrations/options",
                                    "body": {
                                        "name": "pixelbin",
                                        "secret": "{{parameters.secret}}",
                                        "resource": "transform",
                                        "operation": "transform.basic",
                                        "loadOptionsMethod": "getAITransformations"
                                    },
                                    "method": "post",
                                    "urlType": "options",
                                    "labelKey": "displayName",
                                    "valueKey": "name"
                                },
                                "options": [],
                                "validation": {
                                    "required": true
                                },
                                "description": "Select the transformation you want to apply on image.",
                                "displayName": "Select transformation",
                                "displayType": "select",
                                "placeholder": "Select a transformation",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "transform",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "transformationPattern"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true
                                },
                                "description": "Enter the path of the image location in PixelBin storage, starting after the initial '/'. Example: path/to/image.jpg",
                                "displayName": "Image path in PixelBin storage",
                                "displayType": "text",
                                "placeholder": "Please add path of the Image location in PixelBin storage",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "transform",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "imgPath"
                        }
                    ],
                    "displayType": "object"
                },
                "name": "transformationDetails"
            }
        ]
    },
    "delete": {
        "definition": {
            "url": "https://asia-south1.api.boltic.io/apps/v1.0/organization/3f7d3552-afc4-4153-9df1-295be3c37198/d8efd6b8-3ff0-4958-96bc-40a594a135c9-http/file/{{parameters.delete_fileId}}",
            "method": "delete",
            "headers": {
                "Authorization": "{{secrets.api_key}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data.errors.code}}",
                    "message": "{{response.data.errors.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Enter the file path where file is present in PixelBin storage, It should have file name and file extention. Example: path/to/file.extension",
                    "displayName": "File's path",
                    "displayType": "text",
                    "placeholder": "Add file path with file and file extension",
                    "dependencies": {
                        "conditions": [
                            {
                                "field": "resource",
                                "value": "fileOperations",
                                "operator": "EQUALS"
                            }
                        ]
                    }
                },
                "name": "delete_fileId"
            }
        ]
    },
    "update": {
        "definition": {
            "url": "https://asia-south1.api.boltic.io/apps/v1.0/organization/3f7d3552-afc4-4153-9df1-295be3c37198/d8efd6b8-3ff0-4958-96bc-40a594a135c9-http/file",
            "body": "{{parameters}}",
            "method": "patch",
            "headers": {
                "Authorization": "{{secrets.api_key}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data.errors.code}}",
                    "message": "{{response.data.errors.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "validation": {
                                    "required": true
                                },
                                "description": "Enter the file path where file is present in PixelBin storage, It should have file name and file extention. Example: path/to/file.extension",
                                "displayName": "File's path",
                                "displayType": "text",
                                "placeholder": "Add file path with file and file extension",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "fileOperations",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "fileId"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true
                                },
                                "description": "Enter the file's new name. please also add file extension in file name. Example: new_file_name.extension",
                                "displayName": "File's new name",
                                "displayType": "text",
                                "placeholder": "Add the file name",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "fileOperations",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "name"
                        },
                        {
                            "meta": {
                                "description": "Please add the destination folder's absolute path from PixelBin storage where this will be moved (Example: root/folder1/folder2). If not mentioned then file will be uploaded in smae directory.",
                                "displayName": "Destination folder path",
                                "displayType": "text",
                                "placeholder": "Enter the destination folder path",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "fileOperations",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "path"
                        }
                    ],
                    "displayType": "object"
                },
                "name": "fileDetails"
            }
        ]
    },
    "getoriginalfile": {
        "definition": {
            "qs": {
                "filePath": "{{parameters.get_original_file_path}}"
            },
            "url": "https://asia-south1.api.boltic.io/apps/v1.0/organization/3f7d3552-afc4-4153-9df1-295be3c37198/d8efd6b8-3ff0-4958-96bc-40a594a135c9-http/file",
            "method": "get",
            "headers": {
                "Authorization": "{{secrets.api_key}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data.errors.code}}",
                    "message": "{{response.data.errors.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "validation": {
                        "required": true
                    },
                    "description": "Enter the file path where file is present in PixelBin storage, It should have file name and file extention. Example: path/to/file.extension",
                    "displayName": "File's path",
                    "displayType": "text",
                    "placeholder": "Add file path with file name and file extension",
                    "dependencies": {
                        "conditions": [
                            {
                                "field": "resource",
                                "value": "fileOperations",
                                "operator": "EQUALS"
                            }
                        ]
                    }
                },
                "name": "get_original_file_path"
            }
        ]
    },
    "urlupload": {
        "definition": {
            "url": "https://asia-south1.api.boltic.io/apps/v1.0/organization/3f7d3552-afc4-4153-9df1-295be3c37198/d8efd6b8-3ff0-4958-96bc-40a594a135c9-http/file",
            "body": "{{parameters}}",
            "method": "post",
            "headers": {
                "Authorization": "{{secrets.api_key}}"
            },
            "response": {
                "error": {
                    "code": "{{response.data.errors.code}}",
                    "message": "{{response.data.errors.message}}"
                },
                "output": "{{response.data}}"
            }
        },
        "parameters": [
            {
                "meta": {
                    "children": [
                        {
                            "meta": {
                                "validation": {
                                    "required": true
                                },
                                "description": "Enter the source URL of the File to upload it in PixelBin storage, It should start with https:// or http:// (Example: https://www.sourceserver.come/path/to/image.jpg).",
                                "displayName": "File's source URL",
                                "displayType": "text",
                                "placeholder": "Source URL of the File to upload it in PixelBin storage",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "fileOperations",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "url"
                        },
                        {
                            "meta": {
                                "validation": {
                                    "required": true
                                },
                                "description": "No need to add file extension in file name it will be picked up from source file.",
                                "displayName": "File name",
                                "displayType": "text",
                                "placeholder": "Enter the file name",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "fileOperations",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "name"
                        },
                        {
                            "meta": {
                                "description": "Please add the destination folder's absolute path from PixelBin storage where this will be uploaded (Example: root/folder1/folder2). If not mentioned then file will be uploaded in root directory ",
                                "displayName": "Destination folder path",
                                "displayType": "text",
                                "placeholder": "Enter the destination folder path",
                                "dependencies": {
                                    "conditions": [
                                        {
                                            "field": "resource",
                                            "value": "fileOperations",
                                            "operator": "EQUALS"
                                        }
                                    ]
                                }
                            },
                            "name": "path"
                        }
                    ],
                    "displayType": "object"
                },
                "name": "fileDetails"
            }
        ]
    }
}
