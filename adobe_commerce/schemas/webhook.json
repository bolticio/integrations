{
    "cart": {
        "attach": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 500,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/default/V1/carts/search",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "parameters": []
    },
    "test": {
        "cart": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 100,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/default/V1/carts/search",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "transform": {
                    "output": "return {event: output};"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "orders": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 100,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/orders",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "transform": {
                    "output": "return {event: output};"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "invoice": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 100,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/invoices",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "transform": {
                    "output": "return {event: output};"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "customer": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 100,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/customers/search",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "transform": {
                    "output": "return {event: output};"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "products": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 100,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/products",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "transform": {
                    "output": "return {event: output};"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        }
    },
    "orders": {
        "attach": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 500,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/orders",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "parameters": []
    },
    "invoice": {
        "attach": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 500,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/invoices",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "parameters": []
    },
    "customer": {
        "attach": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 500,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/customers/search",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "parameters": []
    },
    "products": {
        "attach": {
            "definition": {
                "qs": {
                    "searchCriteria[pageSize]": 500,
                    "searchCriteria[sortOrders][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][field]": "created_at",
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "gt"
                },
                "url": "https://{{secrets.domain}}/rest/V1/products",
                "headers": {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer {{secrets.access_token}}"
                },
                "response": {
                    "error": {
                        "code": "{{response.status}}",
                        "message": "{{response.data.message}}"
                    },
                    "output": "{{response.data.items}}"
                },
                "polling_criteria": {
                    "type": "timestamp",
                    "field": "created_at",
                    "format": "iso"
                }
            }
        },
        "parameters": []
    },
    "parameters": [
        {
            "meta": {
                "value": "",
                "config": {
                    "url": "/ADOBE_COMMERCE?current_page=1&page_size=999",
                    "method": "get",
                    "urlType": "secret",
                    "labelKey": "name",
                    "valueKey": "_id"
                },
                "options": [],
                "htmlProps": {
                    "showAddNew": true
                },
                "validation": {
                    "required": true
                },
                "description": "Adobe Commerce is a secure partner with Boltic. Your credentials are encrypted & can be removed at any time.",
                "displayName": "Adobe Commerce Account",
                "displayType": "autocomplete",
                "placeholder": "Select Adobe Commerce Account"
            },
            "name": "secret"
        },
        {
            "meta": {
                "options": [
                    {
                        "label": "Webhook",
                        "value": "webhook",
                        "description": "Trigger a workflow when an webhook event is received."
                    }
                ],
                "validation": {
                    "required": true
                },
                "description": "Select the trigger you want to work with.",
                "displayName": "Resource",
                "displayType": "select",
                "placeholder": "Select a trigger",
                "dependencies": {
                    "conditions": [
                        {
                            "field": "secret",
                            "operator": "NOT_EMPTY"
                        }
                    ]
                }
            },
            "name": "resource"
        },
        {
            "meta": {
                "options": [
                    {
                        "label": "Triggers when a new Product is created",
                        "value": "webhook.products",
                        "description": "This event triggers the workflow when a new account is created."
                    },
                    {
                        "label": "Triggers when a new Customer is created",
                        "value": "webhook.customer",
                        "description": "This event triggers the workflow when a new contact is created."
                    },
                    {
                        "label": "Triggers when a new Cart is created",
                        "value": "webhook.cart",
                        "description": "This event triggers the workflow when a new deal is created."
                    },
                    {
                        "label": "Triggers when a new Invoice is created",
                        "value": "webhook.invoice",
                        "description": "This event triggers the workflow when a new lead is created."
                    },
                    {
                        "label": "Triggers when a new Order is created",
                        "value": "webhook.orders",
                        "description": "This event triggers the workflow when a new lead is created."
                    }
                ],
                "validation": {
                    "required": true
                },
                "description": "",
                "displayName": "Event",
                "displayType": "select",
                "placeholder": "",
                "dependencies": {
                    "conditions": [
                        {
                            "field": "secret",
                            "operator": "NOT_EMPTY"
                        },
                        {
                            "field": "resource",
                            "value": "webhook",
                            "operator": "EQUALS"
                        }
                    ]
                }
            },
            "name": "operation"
        }
    ],
    "polling_interval": 5
}
